databaseChangeLog:
- changeSet:
    id: 3
    author: BDFW
    changes:
    - createTable:
        tableName: Order
        columns:
        - column:
            name: order_id
            type: int
            constraints:
              primaryKey: true
              nullable: false
        - column:
            name: agreement_to_charge
            type: bit(1)
        - column:
            name: base_currency_code
            type: varchar(50)
        - column:
            name: base_discount_amount
            type: decimal(10,2)
        - column:
            name: base_discount_tax_compensation_amount
            type: decimal(10,2)
        - column:
            name: base_ipayout_voucher_amount
            type: decimal(10,2)
        - column:
            name: base_ipayout_wallet_amount
            type: decimal(10,2)
        - column:
            name: base_shipping_amount
            type: decimal(10,2)
        - column:
            name: base_shipping_discount_amount
            type: decimal(10,2)
        - column:
            name: base_shipping_discount_tax_compensation_amount
            type: decimal(10,2)
        - column:
            name: base_shipping_incl_tax
            type: decimal(10,2)
        - column:
            name: base_shipping_tax_amount
            type: decimal(10,2)
        - column:
            name: base_subtotal
            type: decimal(10,2)
        - column:
            name: base_subtotal_incl_tax
            type: decimal(10,2)
        - column:
            name: base_tax_amount
            type: decimal(10,2)
        - column:
            name: base_to_global_rate
            type: int
        - column:
            name: base_to_order_rate
            type: int
        - column:
            name: base_total_due
            type: decimal(10,2)
        - column:
            name: base_total_paid
            type: decimal(10,2)
        - column:
            name: billing_address_id
            type: int
        - column:
            name: customer_note_notify
            type: bit(1)
        - column:
            name: discount_amount
            type: decimal(10,2)
        - column:
            name: discount_tax_compensation_amount
            type: decimal(10,2)
        - column:
            name: global_currency_code
            type: varchar(50)
        - column:
            name: grand_total
            type: decimal(10,2)
        - column:
            name: has_membership_upgrade
            type: bit(1)
        - column:
            name: increment_id
            type: int
        - column:
            name: ipayout_voucher_amount
            type: decimal(10,2)
        - column:
            name: ipayout_voucher_code
            type: varchar(255)
        - column:
            name: ipayout_wallet_amount
            type: decimal(10,2)
        - column:
            name: is_virtual
            type: bit(1)
        - column:
            name: logistics_provider
            type: varchar(255)
        - column:
            name: magento_customer_id
            type: int
        - column:
            name: order_currency_code
            type: varchar(50)
        - column:
            name: order_type
            type: varchar(50)
        - column:
            name: prop65
            type: bit(1)
        - column:
            name: prop65_consent
            type: bit(1)
        - column:
            name: protect_code
            type: varchar(100)
        - column:
            name: quote_id
            type: int
        - column:
            name: remote_ip
            type: varchar(100)
        - column:
            name: shipping_amount
            type: decimal(10,2)
        - column:
            name: shipping_description
            type: varchar(500)
        - column:
            name: shipping_discount_amount
            type: decimal(10,2)
        - column:
            name: shipping_discount_tax_compensation_amount
            type: decimal(10,2)
        - column:
            name: shipping_incl_tax
            type: decimal(10,2)
        - column:
            name: shipping_tax_amount
            type: decimal(10,2)
        - column:
            name: state
            type: varchar(100)
        - column:
            name: store_currency_code
            type: varchar(50)
        - column:
            name: store_id
            type: int
        - column:
            name: store_name
            type: varchar(100)
        - column:
            name: store_to_base_rate
            type: int
        - column:
            name: store_to_order_rate
            type: int
        - column:
            name: subscription_consent
            type: bit(1)
        - column:
            name: subscription_start_date
            type: datetime
        - column:
            name: subtotal
            type: decimal(10,2)
        - column:
            name: subtotal_incl_tax
            type: decimal(10,2)
        - column:
            name: tax_amount
            type: decimal(10,2)
        - column:
            name: total_due
            type: decimal(10,2)
        - column:
            name: total_invoiced
            type: decimal(10,2)
        - column:
            name: total_paid
            type: decimal(10,2)
        - column:
            name: total_pv
            type: int
        - column:
            name: total_qty_ordered
            type: int
        - column:
            name: updated_at
            type: datetime
        - column:
            name: warehouse_id
            type: int
        - column:
            name: warehouse_location
            type: varchar(50)
        - column:
            name: weight
            type: int
    - addForeignKeyConstraint:
        baseTableName: Order
        baseColumnNames: customer_id
        referencedTableName: Customer
        referencedColumnNames: customer_id
        constraintName: fk_order_customer
    - addForeignKeyConstraint:
        baseTableName: Order
        baseColumnNames: billing_address_hash_key
        referencedTableName: Address
        referencedColumnNames: address_hash_key
        constraintName: fk_order_address
    rollback:
    - dropTable:
        tableName: Order
